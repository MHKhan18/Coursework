<!DOCTYPE html>

<!-- https://balusc.omnifaces.org/2021/11/whats-new-in-faces-40.html -->

<html
		xmlns:faces="jakarta.faces"
		xmlns:ui="jakarta.faces.facelets"
		xmlns:f="jakarta.faces.core"
		xmlns:h="jakarta.faces.html"
		xmlns:pt="jakarta.faces.passthrough"
		xmlns:cc="jakarta.faces.composite"
		xmlns:c="jakarta.tags.core"
		xmlns:fn="jakarta.tags.functions">

<ui:composition template="../WEB-INF/templates/template.xhtml">
	<ui:define name="title">#{bundle['admin.users.title']}</ui:define>

	<ui:define name="content">
		<h:form>
			<p style="text-align:center;">
				<h:dataTable id="users" summary="#{bundle['admin.users.caption']}"
					styleClass="gridTable" value="#{viewUsersBacking.users}" var="user">
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{bundle['admin.users.username']}" />
						</f:facet>
						<h:link outcome="edit-user">
    						<f:param name="id" value="#{user.username}" />
							<h:outputText id="username" size="20" value="#{user.username}" />
						</h:link>
						<h:message for="username" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{bundle['admin.users.name']}" />
						</f:facet>
						<h:outputText id="name" size="20" value="#{user.name}" />
						<h:message for="name" />
					</h:column>
					<f:facet name="caption">
						<h:outputText value="#{bundle['admin.users.caption']}" />
					</f:facet>
				</h:dataTable>
			</p>

			<p style="text-align:center;">
				<h:commandButton 
					value="#{bundle['admin.users.addAction']}" 
					action="add-user"/>
				<br/>
				<h:messages globalOnly="true" />
			</p>

		</h:form>
	</ui:define>
</ui:composition>
</html>